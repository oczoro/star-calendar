import{j as D,o as d,c as u,a as t,t as y,d as I,q as Y,x as q,f as v,y as E,z as F,F as S,A as j,B as G,n as T,C as W,e as m,D as B,E as z,b as k,h as V,v as C,g as H,G as U}from"./index.f43eda2e.js";import{g as K,u as Q,a as X,b as Z,d as tt}from"./db_api.aaec220f.js";const et={class:"w-72 h-screen","aria-label":"Sidebar"},st={class:"overflow-y-auto h-full py-10 px-5 bg-white border-gray-300 shadow-lg border-2 rounded-sm"},lt={class:"space-y-4 flex h-full flex-col justify-between"},at={class:"flex flex-col justify-between"},nt={class:"text-2xl pb-5"},ot={class:"text-4xl"},it=I(" Yo, "),rt={class:"text-red-600 font-semibold"},ct=I("! "),dt={class:"flex flex-col w-fit text-left mx-auto md:text-center md:flex-row md:justify-evenly text-xl pb-6"},ut={class:"w-20"},mt={class:"w-20"},xt={class:"w-20"},ht=t("hr",{class:"flex border-slate-400 border-1 border-solid justify-end"},null,-1),ft=t("i",{class:"fa-fw text-xl fa-solid fa-calendar"},null,-1),pt=t("span",{class:"ml-3 text-xl"},"Calendar",-1),_t=[ft,pt],vt=t("i",{class:"fa-fw text-xl fa-solid fa-trophy"},null,-1),yt=t("span",{class:"ml-3 text-xl"},"Store",-1),gt=[vt,yt],wt=t("li",null,null,-1),$t=t("i",{class:"fa-fw text-xl fa-solid fa-briefcase"},null,-1),bt=t("span",{class:"ml-3 text-xl"},"Inventory",-1),kt=[$t,bt],Ct=t("i",{class:"fa-fw text-xl fa-solid fa-user"},null,-1),St=t("span",{class:"ml-3 text-xl"},"Profile",-1),jt=[Ct,St],Pt=t("i",{class:"fa-fw text-xl fa-solid fa-gear"},null,-1),Ut=t("span",{class:"ml-3 text-xl"},"Settings",-1),It=[Pt,Ut],Mt={class:"flex flex-col justify-between"},Vt=t("hr",{class:"flex border-slate-400 border-1 border-solid justify-end"},null,-1),Dt={class:"pt-5"},Nt=t("i",{class:"fa-fw text-xl fa-solid fa-arrow-right-from-bracket"},null,-1),Ot=t("span",{class:"ml-3 text-xl"},"Logout",-1),At=[Nt,Ot],Lt={props:{username:String,icon:String,isLoggedIn:Boolean,balance:Array},setup(i){const s=i;let l=D();function n(){s.isLoggedIn&&Y(l).then(()=>{q.push("/")})}return(a,e)=>(d(),u("aside",et,[t("div",st,[t("div",lt,[t("ul",at,[t("li",null,[t("h1",nt,[t("span",ot,y(i.icon),1),it,t("span",rt,y(i.username),1),ct]),t("h1",dt,[t("span",ut,"\u2B50"+y(i.balance[0]),1),t("span",mt,"\u{1F31F}"+y(i.balance[1]),1),t("span",xt,"\u2728"+y(i.balance[2]),1)])]),ht,t("li",null,[t("div",{onClick:e[0]||(e[0]=o=>a.$emit("update-page","Calendar")),class:"cursor-pointer mt-2 flex items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},_t)]),t("li",null,[t("div",{onClick:e[1]||(e[1]=o=>a.$emit("update-page","Store")),class:"cursor-pointer mt-2 flex items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},gt)]),wt,t("li",null,[t("div",{onClick:e[2]||(e[2]=o=>a.$emit("update-page","Inventory")),class:"cursor-pointer mt-2 flex items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},kt)]),t("li",null,[t("div",{onClick:e[3]||(e[3]=o=>a.$emit("update-page","Profile")),class:"cursor-pointer mt-2 flex items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},jt)]),t("li",null,[t("div",{onClick:e[4]||(e[4]=o=>a.$emit("update-page","Settings")),class:"cursor-pointer mt-2 flex items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},It)])]),t("div",Mt,[Vt,t("div",Dt,[t("a",{onClick:e[5]||(e[5]=o=>n()),class:"flex cursor-pointer items-center p-2 text-base font-normal rounded-lg transition duration-75 hover:backdrop-brightness-95 group"},At)])])])])]))}};var J=["January","February","March","April","May","June","July","August","September","October","November","December"];const Et={class:"grid grid-cols-7 gap-2 md:gap-4"},Ft=t("i",{class:"fa-solid fa-caret-left"},null,-1),Tt=[Ft],Bt={class:"col-span-5 bg-transparent text-4xl text-gray-500"},zt=["value"],Jt=["value"],Rt=t("i",{class:"fa-solid fa-caret-right"},null,-1),Yt=[Rt],qt=W('<p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Sunday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Monday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Tuesday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Wednesday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Thursday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Friday </p><p class="truncate col-span-1 text-center text-lg md:text-xl text-white"> Saturday </p>',7),Gt=["onClick"],Wt={class:"text-2xl drop-shadow-md md:text-4xl lg:text-5xl"},Ht={props:{data:Object,today:Object,full_month:String},setup(i){const s=i,l=n=>s.today.year==n.year&&s.today.month==n.month&&s.today.day==n.day+1;return(n,a)=>(d(),u("div",null,[t("div",Et,[t("div",{onClick:a[0]||(a[0]=e=>n.$emit("prev-month")),class:"card select-none col-span-1 text-4xl text-gray-500"},Tt),t("p",Bt,[v(t("select",{name:"month",id:"month-input",class:"field p-2 mr-2 text-center-last","onUpdate:modelValue":a[1]||(a[1]=e=>F(full_month)?full_month.value=e:null),onChange:a[2]||(a[2]=()=>{}),disabled:"true"},[(d(!0),u(S,null,j(G(J),(e,o)=>(d(),u("option",{key:o,value:e},y(e),9,zt))),128))],544),[[E,i.full_month]]),v(t("select",{name:"month",id:"month-input",class:"field p-2 ml-2 text-center-last","onUpdate:modelValue":a[3]||(a[3]=e=>i.data.year=e),onChange:a[4]||(a[4]=()=>{}),disabled:"true"},[(d(),u(S,null,j(4,e=>t("option",{key:e,value:e+2020},y(e+2020),9,Jt)),64))],544),[[E,i.data.year]])]),t("div",{onClick:a[5]||(a[5]=e=>n.$emit("next-month")),class:"card select-none col-span-1 text-4xl text-gray-500"},Yt),qt,(d(!0),u(S,null,j(i.data.days,(e,o)=>(d(),u("div",{class:"card select-none h-16 w-16 lg:h-32 lg:w-32 md:h-24 md:w-24 p-1 md:p-3 lg:p-4",key:o,onClick:p=>l({year:i.data.year,month:i.data.month,day:o})?n.$emit("today-clicked"):""},[t("p",{class:T(["text-left",l({year:i.data.year,month:i.data.month,day:o})?"text-sky-600 font-bold animate-bounce":""])},y(o+1),3),t("figure",Wt,y(e),1)],8,Gt))),128))])]))}},Kt={class:"container mx-auto"},Qt={class:"flex flex-col justify-center"},Xt={class:"flex justify-center"},Zt={setup(i){const s=m(new Date);s.value={month:s.value.getMonth()+1,year:s.value.getFullYear(),day:s.value.getDate()};const l=m({month:s.value.month,year:s.value.year,days:[]}),n=m(0);let a=null;const e=m(null),o=m(null);let p;B(()=>{p=D(),z(p,async x=>{if(x){a=x.uid,e.value=await K(x.uid);let c=!1;for(let r in e.value.months){const w=e.value.months[r],_=w.month,b=w.year;s.value.month==_&&s.value.year==b&&(c=!0)}c||e.value.months.push(l.value),o.value=N(),n.value=o.value.length-1,l.value=o.value[n.value]}})});function $(){return J[l.value.month-1]}function h(){n.value+1>o.value.length-1||(n.value++,l.value=o.value[n.value])}function f(){n.value-1<0||(n.value--,l.value=o.value[n.value])}async function g(){let x=e.value.months.find((w={month,year})=>w.month==s.value.month&&w.year==s.value.year);const c=e.value.months.indexOf(x),r=x.days.indexOf(s.value.day);r!=-1?(e.value.months[c].days.splice(r,1),l.value.days[s.value.day-1]=""):(e.value.months[c].days.push(s.value.day),P(l.value.days,s.value.day-1,0,3)?l.value.days[s.value.day-1]="\u2728":P(l.value.days,s.value.day-1,0,1)?l.value.days[s.value.day-1]="\u{1F31F}":l.value.days[s.value.day-1]="\u2B50"),await Q(a,e.value.months)}function N(){let x=[];const c=e.value.months,r=c[0],w=c[c.length-1];let _=r.month,b=r.year;for(;b<=w.year&&!(_>w.month&&b>=w.year);){let M=[],A=c.find((L={month:_,year:b})=>L.month==_&&L.year==b);A?M=O(A):M=O({month:_,year:b,days:[]}),x.push({month:_,year:b,days:M}),_<12?_=_+1:(b=b+1,_=1)}return x}function O(x){let c=[];for(let r=0;r<=R(x);r++)x.days.includes(r)?c[r-1]="\u2B50":c[r-1]="";for(let r=1;r<=c.length;r++)c[r]&&(P(c,r,0,3)?c[r]="\u2728":P(c,r,0,1)&&(c[r]="\u{1F31F}"));return c}function P(x,c,r,w){let _=c-r-1;return r==w?!0:_<0||!x[_]?!1:P(x,c,r+1,w)}function R(x){return new Date(x.year,x.month,0).getDate()}return(x,c)=>(d(),u("div",Kt,[t("div",Qt,[t("div",Xt,[k(Ht,{data:l.value,today:s.value,full_month:$(),onNextMonth:h,onPrevMonth:f,onTodayClicked:g},null,8,["data","today","full_month"])])])]))}},te={class:"w-3/4 mt-10 mx-auto text-white text-left"},ee=t("h1",{class:"text-4xl text-center text-medium"},"Store",-1),se={class:"reward-container pt-5 w-fit mx-auto flex flex-wrap justify-center align-middle content-center text-gray-800"},le={key:0},ae=t("i",{class:"w-20 h-20 text-7xl mx-auto text-sky-400 fa-solid fa-trophy"},null,-1),ne={class:"flex flex-col p-2 justify-left align-middle"},oe=t("h1",{class:"text-lg"},"Cool Reward",-1),ie={class:"text-lg"},re={key:1},ce=t("i",{class:"w-20 h-20 text-7xl mx-auto text-gray-300 fa-solid fa-circle-plus"},null,-1),de=t("div",{class:"flex flex-col p-2"},[t("h1",{class:"text-lg"},"Add New"),t("h1",{class:"text-lg"},"Reward")],-1),ue=[ce,de],me={setup(i){const s=m(null);return s.value=[1,2,3,4,5,6],(l,n)=>(d(),u("div",te,[ee,t("div",se,[(d(!0),u(S,null,j(s.value.length+1,a=>(d(),u("div",{class:"card w-52 m-2 text-center",key:a},[a<=s.value.length?(d(),u("div",le,[ae,t("div",ne,[oe,t("h1",ie,"\u2B50"+y(a*10),1)])])):(d(),u("div",re,ue))]))),128))])]))}},xe={class:"w-3/4 mt-10 mx-auto text-white text-left"},he=t("h1",{class:"text-4xl text-center text-medium"},"Inventory",-1),fe={class:"reward-container pt-5 w-fit mx-auto flex flex-wrap justify-center align-middle content-center text-gray-800"},pe={class:"w-fit h-fit text-7xl mx-auto text-sky-400"},_e={class:"flex justify-center items-center h-32 w-32"},ve={class:"flex flex-col p-2 justify-left align-middle"},ye={class:"text-lg"},ge={props:{items:Array},setup(i){return(s,l)=>(d(),u("div",xe,[he,t("div",fe,[(d(!0),u(S,null,j(i.items,(n,a)=>(d(),u("div",{class:"card w-52 m-2 text-center",key:a},[t("div",pe,[t("div",_e,y(n.icon),1)]),t("div",ve,[t("h1",ye,y(n.name),1)])]))),128))])]))}},we={class:"w-[60%] absolute top-[60%] lg:top-1/2 left-[55%] -translate-x-1/2 -translate-y-2/3"},$e=t("h1",{class:"absolute right-1 left-1 text-3xl font-medium text-center"}," Selecte Profile Icon ",-1),be=t("i",{class:"pt-2 pr-1 fa-solid fa-circle-xmark"},null,-1),ke=[be],Ce={class:"modal-card p-10 flex flex-wrap justify-center align-middle"},Se=["onClick"],je={class:"self-center"},Pe={props:{icon:String},emits:["closeIconPicker"],setup(i,{emit:s}){const l=["\u2B50","\u{1F422}","\u{1F987}","\u{1F382}","\u{1F339}","\u{1F335}","\u{1F920}","\u{1F921}","\u{1F47D}","\u{1F47B}","\u{1F916}","\u{1F47E}","\u{1F432}","\u{1F414}","\u{1F438}","\u{1F99D}","\u{1F43C}","\u{1F40A}","\u{1F40D}","\u{1F988}","\u{1F42C}","\u{1F419}","\u{1F990}","\u{1F577}","\u{1F997}","\u{1F9E0}"];m(null);const n=a=>{s("closeIconPicker",a)};return(a,e)=>(d(),u("div",we,[$e,t("div",{onClick:e[0]||(e[0]=o=>a.$emit("closeIconPicker")),class:"absolute z-10 right-1 cursor-pointer text-xl"},ke),t("div",Ce,[(d(),u(S,null,j(l,(o,p)=>t("span",{class:"icon-button flex text-center justify-center w-[80px] h-[80px] text-5xl m-2",onClick:$=>n(o),key:p},[t("span",je,y(o),1)],8,Se)),64))])]))}},Ue={class:"w-1/2 mt-10 mx-auto text-white text-left"},Ie=t("h1",{class:"text-4xl text-center text-medium"},"Profile",-1),Me={class:"pt-5 w-full mx-auto flex flex-wrap justify-evenly align-middle content-center text-gray-800"},Ve={class:"text-9xl w-[200px] h-[200px] text-center",style:{"line-height":"inherit"}},De={class:"grow sm:ml-0 lg:ml-10 flex flex-col"},Ne=t("h2",{class:"text-3xl text-center md:text-left text-white"}," Change Name ",-1),Oe=t("button",{type:"submit",class:"btn mt-2 lg:mt-0 sm:ml-0 lg:ml-2 h-fit"}," Change ",-1),Ae={key:0,id:"overlay"},Le={props:{user_uid:String,user_name:String,icon:String},emits:["update-username","update-icon"],setup(i,{emit:s}){const l=m(!1),n=m(null),a=()=>{l.value=!0},e=async o=>{o&&(n.value=o,s("update-icon",o)),l.value=!1};return(o,p)=>(d(),u("div",null,[t("div",{class:T(l.value?"blur-sm":"")},[t("div",Ue,[Ie,t("div",Me,[t("div",{onClick:a,class:"profile-icon w-fit h-fit p-5 flex justify-center align-middle content-center"},[t("span",Ve,y(n.value?n.value:i.icon),1)]),t("div",De,[Ne,t("form",{class:"flex flex-col lg:flex-row mt-2",onSubmit:p[1]||(p[1]=V($=>o.$emit("update-username",i.user_name),["prevent"]))},[v(t("input",{type:"text",class:"field w-full","onUpdate:modelValue":p[0]||(p[0]=$=>F(user_name)?user_name.value=$:null)},null,512),[[C,i.user_name]]),Oe],32)])])])],2),l.value?(d(),u("div",Ae,[k(Pe,{onCloseIconPicker:e})])):H("",!0)]))}},Ee={class:"w-1/3 mt-10 mx-auto text-white text-left"},Fe=t("h1",{class:"text-4xl text-center text-medium"},"Settings",-1),Te={class:"pt-5"},Be=t("h2",{class:"text-3xl text-white"},"Change Email",-1),ze=t("div",{class:"flex justify-center mt-2"},[t("button",{type:"submit",class:"btn w-60"},"Change Email")],-1),Je={class:"pt-5"},Re=["onSubmit"],Ye=t("h2",{class:"text-3xl text-white"},"Change Password",-1),qe=t("div",{class:"flex justify-center mt-2"},[t("button",{type:"submit",class:"btn w-60"},"Change Password")],-1),Ge={setup(i){const s=m(""),l=m(""),n=m(""),a=m(""),e=m(""),o=m(""),p=()=>{console.log("change password")};return($,h)=>(d(),u("div",Ee,[Fe,t("div",Te,[t("form",{class:"flex flex-col text-black",onSubmit:h[3]||(h[3]=V((...f)=>$.changeEmail&&$.changeEmail(...f),["prevent"]))},[Be,v(t("input",{type:"text",class:"field mt-2",placeholder:"New Email","onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f)},null,512),[[C,s.value]]),v(t("input",{type:"password",class:"field mt-2",placeholder:"Password","onUpdate:modelValue":h[1]||(h[1]=f=>l.value=f)},null,512),[[C,l.value]]),v(t("input",{type:"password",class:"field mt-2",placeholder:"Confirm Password","onUpdate:modelValue":h[2]||(h[2]=f=>n.value=f)},null,512),[[C,n.value]]),ze],32)]),t("div",Je,[t("form",{class:"flex flex-col text-black",onSubmit:V(p,["prevent"])},[Ye,v(t("input",{type:"password",class:"field mt-2",placeholder:"Current Password","onUpdate:modelValue":h[4]||(h[4]=f=>a.value=f)},null,512),[[C,a.value]]),v(t("input",{type:"password",class:"field mt-2",placeholder:"New Password","onUpdate:modelValue":h[5]||(h[5]=f=>e.value=f)},null,512),[[C,e.value]]),v(t("input",{type:"password",class:"field mt-2",placeholder:"Confirm New Password","onUpdate:modelValue":h[6]||(h[6]=f=>o.value=f)},null,512),[[C,o.value]]),qe],40,Re)])]))}},We={class:"pt-4"},He={props:{userdata:Object,current_page:String},emits:["update_name","update_icon"],setup(i,{emit:s}){const l=i,n=async e=>{await X(l.userdata.uid,e),s("update_name",e)},a=async e=>{await Z(l.userdata.uid,e),s("update_icon",e)};return(e,o)=>(d(),u("div",We,[v(k(Zt,null,null,512),[[U,l.current_page=="Calendar"]]),v(k(me,null,null,512),[[U,l.current_page=="Store"]]),v(k(ge,{items:l.userdata.items},null,8,["items"]),[[U,l.current_page=="Inventory"]]),v(k(Le,{user_uid:l.userdata.uid,user_name:l.userdata.name,icon:l.userdata.icon,onUpdateUsername:n,onUpdateIcon:a},null,8,["user_uid","user_name","icon"]),[[U,l.current_page=="Profile"]]),v(k(Ge,null,null,512),[[U,l.current_page=="Settings"]])]))}},Ke={class:"flex"},Qe={class:"container"},Xe=t("h1",{class:"text-2xl text-white align-middle"},[I(" star "),t("span",{class:"text-4xl star text-semibold"},"\u22C6"),I(" calendar ")],-1),es={setup(i){const s=m({}),l=m("Friend"),n=m("\u2B50"),a=m([]),e=m(!1);let o;B(()=>{o=D(),z(o,async g=>{g?(e.value=!0,s.value=await tt(g.uid),s.value.uid=g.uid,l.value=s.value.name,n.value=s.value.icon,a.value=s.value.balance):e.value=!1})});const p=m("Calendar"),$=g=>{p.value=g},h=g=>{l.value=g},f=g=>{n.value=g};return(g,N)=>(d(),u("div",Ke,[k(Lt,{onUpdatePage:$,username:l.value,icon:n.value,balance:a.value,isLoggedIn:e.value},null,8,["username","icon","balance","isLoggedIn"]),t("div",Qe,[Xe,k(He,{onUpdate_name:h,onUpdate_icon:f,current_page:p.value,userdata:s.value},null,8,["current_page","userdata"])])]))}};export{es as default};
